---
description: 未コミットのファイルを確認し、適切な粒度でコミットを作成する
allowed-tools: [Bash, Read, Edit]
---

# スマートコミット実行

未コミットのファイルを分析し、論理的に関連する変更を適切な粒度でコミットします。

## 実行手順

1. **作業計画の作成**

   - コード整理、コミット準備の各ステップを明確化

2. **未コミット状況確認**

- `git status`で変更されたファイルをリスト
- `git diff --stat`で変更の統計情報を確認
- `git diff`で具体的な変更内容を分析

3. **変更内容のグループ化**

   - 機能追加、バグ修正、リファクタリング、スタイル修正など論理的に分類
   - 関連するファイルをまとめて適度な粒度でグループ化

4. **適切な粒度でコミット**

   - 各グループごとに独立したコミットを作成
   - Conventional Commits 形式でメッセージ作成
   - コミットメッセージの言語は：
     - $ARGUMENTS を確認
     - $ARGUMENTS に指定がなければ、CLAUDE.md を確認
     - それでも指定がなければ日本語でメッセージを書く
     - 指定がなければ日本語で分かりやすい説明を追加
   - 1 コミット = 1 つの論理的変更の原則

5. **品質確保**

   - コミットメッセージ検証が通ることを確認
   - 最終的な`git status`でクリーンな状態を確認

6. **プロジェクトメモリ更新検討**
   - 作業中に発見した技術的課題・解決方法を CLAUDE.md に追加検討
   - 新しいエラーパターン、ライブラリ使用方法、設定の注意点等
   - 将来の開発効率化につながる知見の蓄積

## コミットメッセージ形式

```
<subject>

<body>

```

## 注意事項

- **必ず品質チェックを実施**してからコミット
- エラーや警告は可能な限り解消してからコミット
- プロジェクト固有のビルドツールやコマンドを確認（Makefile、package.json、build.gradle 等）

**動作を開始します...**
